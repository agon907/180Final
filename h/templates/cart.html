<head>
    <title>Your Cart</title>
</head>
{% extends 'base.html' %}
{% block body %}
<main>
    <section id="cart" class="section">
        <h2>Shopping Cart</h2>
        <div class="product-grid">
            {% for item in cart_details %}
            <div class="product-card">
                <h3>{{ item.title }}</h3>
                <span class="price">${{ item.price }}</span>
                <span class="quantity">Quantity: {{ item.quantity }}</span><br>
                <span class="subtotal">Subtotal: ${{ item.subtotal }}</span>
                <form method="POST" action="{{ url_for('remove_from_cart', product_id=item.product_id) }}">
                    <button type="submit">Remove</button>
                </form>
            </div>
            {% endfor %}
        </div>
        <div class="cart-summary">
            <p>Tax: ${{ tax }}</p>
            <p>Shipping: ${{ shipping_cost }}</p>
            <p>Total: ${{ total_price }}</p>
            <form method="POST" action="{{ url_for('checkout') }}">
                <button type="submit">Purchase Cart</button>
            </form>
        </div>
    </section>

</main>
{% endblock %}
